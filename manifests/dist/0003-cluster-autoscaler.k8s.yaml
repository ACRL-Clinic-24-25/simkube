apiVersion: v1
kind: ConfigMap
metadata:
  name: cluster-autoscaler-configmap-c8822f6d
  namespace: kube-system
data:
  cluster-autoscaler-config.yml: |
    ---
    address: sk-cloudprov-service-c811acb1.default:8086
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: cluster-autoscaler-service-account-c8c3e2e6
  namespace: kube-system
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: cluster-autoscaler-cluster-role-binding-c82b44c2
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-admin
subjects:
  - kind: ServiceAccount
    name: cluster-autoscaler-service-account-c8c3e2e6
    namespace: kube-system
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: cluster-autoscaler-deployment-c84a3607
  namespace: kube-system
spec:
  replicas: 1
  selector:
    matchLabels:
      app: cluster-autoscaler
  template:
    metadata:
      labels:
        app: cluster-autoscaler
      namespace: kube-system
    spec:
      containers:
        - args:
            - --cloud-provider
            - externalgrpc
            - --cloud-config
            - /config/cluster-autoscaler-config.yml
            - --scale-down-delay-after-add
            - 1m
            - --scale-down-unneeded-time
            - 1m
            - --v
            - "4"
          command:
            - /cluster-autoscaler
          env:
            - name: POD_OWNER
              value: cluster-autoscaler-deployment-c84a3607
          image: localhost:5000/cluster-autoscaler:latest
          name: cluster-autoscaler
          securityContext:
            capabilities:
              add:
                - SYS_PTRACE
          volumeMounts:
            - mountPath: /config
              name: cluster-autoscaler-config
      nodeSelector:
        type: kind-control-plane
      serviceAccountName: cluster-autoscaler-service-account-c8c3e2e6
      tolerations:
        - effect: NoSchedule
          key: node-role.kubernetes.io/control-plane
          value: ""
      volumes:
        - configMap:
            items:
              - key: cluster-autoscaler-config.yml
                path: cluster-autoscaler-config.yml
            name: cluster-autoscaler-configmap-c8822f6d
          name: cluster-autoscaler-config
